{{define "Head"}}
  {{template "PkgCmdHeader" $}}
{{end}}

{{define "Body"}}
  {{with .pdoc}}
    {{template "ProjectNav" $}}

        <h2 id="pkg-overview">package {{.Name}}</h2>

        <p><code>import "{{.ImportPath}}"</code>

        {{.Doc|comment}}

        {{template "Examples" .|$.pdoc.ObjExamples}}

        <!-- Index -->
        <h3 id="pkg-index" class="section-header">Index <a class="permalink" href="#pkg-index">&para;</a></h3>

        {{if .Truncated}}
          <div class="alert">The documentation displayed here is incomplete. Use the godoc command to read the complete documentation.</div>
        {{end}}

        <ul class="list-unstyled">
          {{if .Consts}}<li><a href="#pkg-constants">Constants</a></li>{{end}}
          {{if .Vars}}<li><a href="#pkg-variables">Variables</a></li>{{end}}
          {{range .Funcs}}<li><a href="#{{.Name}}">{{.Decl.Text}}</a></li>{{end}}
          {{range $t := .Types}}
            <li><a href="#{{.Name}}">type {{.Name}}</a></li>
            {{if or .Funcs .Methods}}<ul>{{end}}
            {{range .Funcs}}<li><a href="#{{.Name}}">{{.Decl.Text}}</a></li>{{end}}
            {{range .Methods}}<li><a href="#{{$t.Name}}.{{.Name}}">{{.Decl.Text}}</a></li>{{end}}
            {{if or .Funcs .Methods}}</ul>{{end}}
          {{end}}
          {{if .Notes.BUG}}<li><a href="#pkg-note-bug">Bugs</a></li>{{end}}
        </ul>

        <!-- Examples -->
        {{with .AllExamples}}
          <h4 id="pkg-examples">Examples <a class="permalink" href="#pkg-examples">&para;</a></h4>
          <ul class="list-unstyled">
            {{range . }}<li><a href="#example-{{.ID}}">{{.Label}}</a></li>{{end}}
          </ul>
        {{end}}

        <!-- Files -->
        {{template "PkgFiles" $}}
        <!-- Contants -->
        {{if .Consts}}
          <h3 id="pkg-constants">Constants <a class="permalink" href="#pkg-constants">&para;</a></h3>
          {{range .Consts}}<div class="decl" data-kind="c">{{$.pdoc.SourceLink .Pos "\u2756" false}}{{code .Decl nil}}</div>{{.Doc|comment}}{{end}}
        {{end}}

        <!-- Variables -->
        {{if .Vars}}
          <h3 id="pkg-variables">Variables <a class="permalink" href="#pkg-variables">&para;</a></h3>
          {{range .Vars}}<div class="decl" data-kind="v">{{$.pdoc.SourceLink .Pos "\u2756" false}}{{code .Decl nil}}</div>{{.Doc|comment}}{{end}}
        {{end}}

        <!-- Functions -->
        {{range .Funcs}}
          <h3 id="{{.Name}}" data-kind="f">func {{$.pdoc.SourceLink .Pos .Name true}} <a class="permalink" href="#{{.Name}}">&para;</a></h3>
          <div class="funcdecl decl">{{$.pdoc.SourceLink .Pos "\u2756" false}}{{code .Decl nil}}</div>{{.Doc|comment}}
          {{template "Examples" .|$.pdoc.ObjExamples}}
        {{end}}

        <!-- Types -->
        {{range $t := .Types}}
          <h3 id="{{.Name}}" data-kind="t">type {{$.pdoc.SourceLink .Pos .Name true}} <a class="permalink" href="#{{.Name}}">&para;</a></h3>
          <div class="decl" data-kind="{{if isInterface $t}}m{{else}}d{{end}}">{{$.pdoc.SourceLink .Pos "\u2756" false}}{{code .Decl $t}}</div>{{.Doc|comment}}
          {{range .Consts}}<div class="decl" data-kind="c">{{$.pdoc.SourceLink .Pos "\u2756" false}}{{code .Decl nil}}</div>{{.Doc|comment}}{{end}}
          {{range .Vars}}<div class="decl" data-kind="v">{{$.pdoc.SourceLink .Pos "\u2756" false}}{{code .Decl nil}}</div>{{.Doc|comment}}{{end}}
          {{template "Examples" .|$.pdoc.ObjExamples}}

          {{range .Funcs}}
            <h4 id="{{.Name}}" data-kind="f">func {{$.pdoc.SourceLink .Pos .Name true}} <a class="permalink" href="#{{.Name}}">&para;</a></h4>
            <div class="funcdecl decl">{{$.pdoc.SourceLink .Pos "\u2756" false}}{{code .Decl nil}}</div>{{.Doc|comment}}
            {{template "Examples" .|$.pdoc.ObjExamples}}
          {{end}}

          {{range .Methods}}
            <h4 id="{{$t.Name}}.{{.Name}}" data-kind="m">func ({{.Recv}}) {{$.pdoc.SourceLink .Pos .Name true}} <a class="permalink" href="#{{$t.Name}}.{{.Name}}">&para;</a></h4>
            <div class="funcdecl decl">{{$.pdoc.SourceLink .Pos "\u2756" false}}{{code .Decl nil}}</div>{{.Doc|comment}}
            {{template "Examples" .|$.pdoc.ObjExamples}}
          {{end}}
        {{end}}
        {{template "PkgCmdFooter" $}}
        <div id="x-jump" tabindex="-1" class="modal">
            <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" aria-hidden="true">&times;</button>
                <h4 class="modal-title">Jump to identifier</h4>
                <br class="clearfix">
                <input id="x-jump-filter" class="form-control" autocomplete="off" type="text">
              </div>
              <div id="x-jump-body" class="modal-body" style="height: 260px; overflow: auto;">
                <div id="x-jump-list" class="list-group" style="margin-bottom: 0;"></div>
              </div>
          </div>
        </div>
      </div>
  {{end}}
{{end}}

{{define "Examples"}}
  {{if .}}
    <div class="panel-group">
    {{range .}}
      <details class="panel panel-default">
        <summary id="example-{{.ID}}" class="panel-heading">Example{{with .Example.Name}} ({{.}}){{end}}<a class="permalink" href="#example-{{.ID}}">Â¶</a></summary>
        <div class="panel-collapse"><div class="panel-body">
          {{with .Example.Doc}}<p>{{.|comment}}{{end}}
          <p>Code:{{if .Play}}<span class="pull-right"><a href="?play={{.ID}}">play</a>&nbsp;</span>{{end}}
          {{code .Example.Code nil}}
          {{with .Example.Output}}<p>Output:<pre>{{.}}</pre>{{end}}
        </div></div>
      </details>
    {{end}}
    </div>
  {{end}}
{{end}}
