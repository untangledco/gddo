{{define "SearchBox"}}
  <form>
    <div class="input-group">
      <input class="form-control" name="q" autofocus="autofocus" value="{{.}}" placeholder="Search for package by import path or keyword." type="text">
      <span class="input-group-btn">
        <button class="btn btn-default" type="submit">Go!</button>
      </span>
    </div>
  </form>
{{end}}

{{define "ProjectNav"}}{{template "FlashMessages" .Messages}}<div class="clearfix" id="x-projnav">
  {{if .Meta}}<a rel="noopener nofollow" href="{{.Meta.ProjectURL}}"><strong>{{.Meta.ProjectName}}:</strong></a>{{end}}
  {{.Breadcrumbs templateName}}
  {{if and .Name (eq templateName "doc.html") (or (not .IsCommand) .SubPackages)}}
  <span class="pull-right">
    {{if not .IsCommand}}
      <a href="#pkg-index">Index</a>
      {{if .AllExamples}}<span class="text-muted">|</span> <a href="#pkg-examples">Examples</a>{{end}}
      <span class="text-muted">|</span> <a href="#pkg-files">Files</a>
    {{end}}
    {{if .SubPackages}}
      {{if not .IsCommand}}<span class="text-muted">|</span>{{end}}
      <a href="#pkg-subdirectories">Directories</a>
    {{end}}
  </span>
  {{end}}
</div>{{end}}

{{define "Pkgs"}}
  <table class="table table-condensed">
  <thead><tr><th>Path</th><th>Synopsis</th></tr></thead>
  <tbody>{{range .}}<tr><td><a rel="noopener nofollow" href="/{{.ImportPath}}">{{.ImportPath}}</a></td><td>{{.Synopsis}}</td></tr>
  {{end}}</tbody>
  </table>
{{end}}

{{define "FlashMessages"}}{{range .}}
  {{if eq .ID "refresh"}}{{if eq (len .Args) 1}}<div class="alert alert-danger">Error refreshing package: {{index .Args 0}}</div>{{end}}
  {{else if eq .ID "timeout"}}<div class="alert alert-info">This package is being fetched in the background. Feel free to refresh while we're working on it.</div>
  {{else if eq .ID "error"}}{{if eq (len .Args) 1}}<div class="alert alert-danger">{{index .Args 0}}</div>{{end}}
  {{end}}
{{end}}{{end}}
