{{define "SearchBox"}}
  <form>
    <div class="input-group">
      <input class="form-control" name="q" autofocus="autofocus" value="{{.}}" placeholder="Search for package by import path or keyword." type="text">
      <span class="input-group-btn">
        <button class="btn btn-default" type="submit">Go!</button>
      </span>
    </div>
  </form>
{{end}}

{{define "ProjectNav"}}{{template "FlashMessages" .flashMessages}}<div class="clearfix" id="x-projnav">
  {{if eq .pdoc.ModulePath "std"}}<a href="/-/go">Go:</a>{{else if .meta}}<a rel="noopener nofollow" href="{{.meta.ProjectURL}}"><strong>{{.meta.ProjectName}}:</strong></a>{{end}}
  {{.pdoc.Breadcrumbs templateName}}
  {{if and .pdoc.Name (or templateName "pkg.html" templateName "cmd.html")}}
  <span class="pull-right">
    {{if not .pdoc.IsCommand}}
      <a href="#pkg-index">Index</a>
      {{if .pdoc.AllExamples}}<span class="text-muted">|</span> <a href="#pkg-examples">Examples</a>{{end}}
      <span class="text-muted">|</span>
    {{end}}
    <a href="#pkg-files">Files</a>
    {{if .pkgs}}<span class="text-muted">|</span> <a href="#pkg-subdirectories">Directories</a>{{end}}
  </span>
  {{end}}
</div>{{end}}

{{define "Pkgs"}}
  <table class="table table-condensed">
  <thead><tr><th>Path</th><th>Synopsis</th></tr></thead>
  <tbody>{{range .}}<tr><td><a rel="noopener nofollow" href="/{{.ImportPath}}">{{.ImportPath}}</a></td><td>{{.Synopsis}}</td></tr>
  {{end}}</tbody>
  </table>
{{end}}

{{define "SearchPkgs"}}
  <table class="table table-condensed">
    <thead><tr><th>Path</th><th>Synopsis</th></tr></thead>
    <tbody>{{range .}}
      <tr><td>
        <a href="/{{.ImportPath}}">{{.ImportPath|importPath}}</a>
          <ul class="list-inline">
            <li class="additional-info">{{.ImportCount}} imports</li>
          </ul>
      <td class="synopsis">{{.Synopsis|importPath}}</td></tr>
    {{end}}</tbody>
  </table>
{{end}}

{{define "PkgCmdHeader"}}{{with .pdoc}}
  <title>{{.PageName}} - godocs.io</title>
  {{if .Synopsis}}
    <meta name="twitter:title" content="{{if .IsCommand}}Command{{else}}Package{{end}} {{.PageName}}">
    <meta property="og:title" content="{{if .IsCommand}}Command{{else}}Package{{end}} {{.PageName}}">
    <meta name="description" content="{{.Synopsis}}">
    <meta name="twitter:description" content="{{.Synopsis}}">
    <meta property="og:description" content="{{.Synopsis}}">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@golang">
  {{end}}
{{end}}{{end}}

{{define "PkgFiles"}}{{$meta := .meta}}{{with .pdoc}}
<h4 id="pkg-files">
  {{with $.meta}}<a rel="noopener nofollow" href="{{.Dir ""}}">Package Files</a>{{else}}Package Files{{end}}
  <a class="permalink" href="#pkg-files">&para;</a>
</h4>

<p>{{range .Filenames}}{{if $meta}}<a rel="noopener nofollow" href="{{$meta.File "" .}}">{{.}}</a>{{else}}{{.}}{{end}} {{end}}</p>
{{end}}{{end}}

{{define "PkgCmdFooter"}}
<!-- Bugs -->
{{with .pdoc}}{{with .Notes}}{{with .BUG}}
  <h3 id="pkg-note-bug">Bugs <a class="permalink" href="#pkg-note-bug">&para;</a></h3>{{range .}}<p>{{$.pdoc.SourceLink .Pos "â˜ž" true}} {{.Body}}{{end}}
{{end}}{{end}}{{end}}

{{if $.pkgs}}<h3 id="pkg-subdirectories">Directories <a class="permalink" href="#pkg-subdirectories">&para;</a></h3>
    <table class="table table-condensed">
    <thead><tr><th>Path</th><th>Synopsis</th></tr></thead>
    <tbody>{{range $.pkgs}}<tr><td><a href="/{{.ImportPath}}">{{relativePath .ImportPath .ModulePath}}</a><td>{{.Synopsis}}</td></tr>{{end}}</tbody>
    </table>
{{end}}
<div id="x-pkginfo">
{{with $.pdoc}}
  <p>{{if or .Imports $.importerCount}}Package {{.Name}} {{if .Imports}}imports <a href="?imports">{{.Imports|len}} packages</a> (<a href="?import-graph">graph</a>){{end}}{{if and .Imports $.importerCount}} and {{end}}{{if $.importerCount}}is imported by <a href="?importers">{{$.importerCount}} packages</a>{{end}}.{{end}}</p>
  <p>Version {{.Version}}
  <span class="text-muted">|</span>
  Published <span title="{{.CommitTime.Format "2006-01-02T15:04:05Z"}}">{{.CommitTime.Format "Jan 2, 2006"}}</span>
  {{if ne .GOOS "linux"}}<span class="text-muted">|</span> GOOS={{.GOOS}}{{end}}
  <span class="text-muted">|</span>
  Updated <span title="{{.Updated.Format "2006-01-02T15:04:05Z"}}">{{humanize .Updated}}</span>
  </p>
  <form class="inline-form" method="POST" action="/-/refresh">
    <input type="hidden" name="path" value="{{.ImportPath}}">
    <button type="submit" class="link" title="Refresh this page from the source.">Refresh now</button>.
  </form>
  <a href="?tools">Tools</a> for package owners.
{{end}}
</div>
{{end}}


{{define "FlashMessages"}}{{range .}}
  {{if eq .ID "refresh"}}{{if eq (len .Args) 1}}<div class="alert alert-danger">Error refreshing package: {{index .Args 0}}</div>{{end}}
  {{end}}
{{end}}{{end}}

